
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Memo on Block Chain Study Group meeting #2 &#8212; kuenishi(7)</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="the cost of erlang:send_after/3" href="cost-of-send-after3.html" />
    <link rel="prev" title="ErgoDox EZ" href="ergodox-ez.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#memo/blockchain" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="kuenishi(7)"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">kuenishi(7)</span>
          <span class="md-header-nav__topic"> Memo on Block Chain Study Group meeting #2 </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">kuenishi(7)</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="kuenishi(7)" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="kuenishi(7)">kuenishi(7)</a>
  </label>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#memo-blockchain--page-root" class="md-nav__link">Memo on Block Chain Study Group meeting #2</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#bitcoin" class="md-nav__link">BitCoinにおける合意（といわれているやつ）</a>
        </li>
        <li class="md-nav__item"><a href="#altcoins" class="md-nav__link">AltCoins</a>
        </li>
        <li class="md-nav__item"><a href="#proof-of-work" class="md-nav__link">Proof of Work</a>
        </li>
        <li class="md-nav__item"><a href="#proof-of-stake" class="md-nav__link">Proof of Stake</a>
        </li>
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">他</a>
        </li>
        <li class="md-nav__item"><a href="#ghost-protocol" class="md-nav__link">GHOST Protocol</a>
        </li>
        <li class="md-nav__item"><a href="#major-altcoins" class="md-nav__link">Major AltCoins</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#ripple-proof-of-work-trust" class="md-nav__link">Ripple: proof of work, TRUST?</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#stellar-stellar-consensus-protocol-trust" class="md-nav__link">Stellar: Stellar consensus protocol (TRUST)</a>
        </li>
        <li class="md-nav__item"><a href="#bitshares-dpos-delegated-pos" class="md-nav__link">BitShares: DPOS (Delegated PoS)</a>
        </li>
        <li class="md-nav__item"><a href="#qointum-qdpos" class="md-nav__link">Qointum; QDPoS</a>
        </li>
        <li class="md-nav__item"><a href="#references" class="md-nav__link">References</a>
        </li>
        <li class="md-nav__item"><a href="#misc" class="md-nav__link">Misc</a>
        </li>
        <li class="md-nav__item"><a href="#others" class="md-nav__link">Others</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/memo/blockchain.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="memo-on-block-chain-study-group-meeting-2">
<h1 id="memo-blockchain--page-root">Memo on Block Chain Study Group meeting #2<a class="headerlink" href="#memo-blockchain--page-root" title="Permalink to this headline">¶</a></h1>
<p>(ブロックチェーン勉強会２)</p>
<ul class="simple">
<li><p>[Thursday, May 26](<a class="reference external" href="https://www.facebook.com/events/607357016084911/">https://www.facebook.com/events/607357016084911/</a>)</p></li>
<li><p>AltCoin といわれるものから、その合意プロトコル的なものについていくつか紹介</p></li>
<li><p>TL;DR いっぱいありすぎてわかんねえ！</p></li>
</ul>
<p>## ブロックチェーンとは</p>
<p>ある事実なり履歴を改竄できない形で複製して保持する技術の総称</p>
<ul class="simple">
<li><p>高可用性、耐故障性</p></li>
<li><p>（ものによっては）匿名性</p></li>
<li><p>？？？ 性能</p></li>
</ul>
<p>過去の履歴もMerkle Treeでまとめることによってデータの改竄を検出しやすくしている</p>
<p>Block generation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">H</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">=</span> <span class="n">Hash</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">PublicKey</span><span class="p">(</span><span class="n">k</span><span class="p">)),</span>
<span class="n">T</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">PublicKey</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">H</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">Sign</span><span class="p">(</span><span class="n">H</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">PrivateKey</span><span class="p">(</span><span class="n">k</span><span class="p">)))</span>
<span class="n">Block</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="n">k</span><span class="o">-</span><span class="n">i</span><span class="p">),</span> <span class="o">...</span><span class="p">,</span> <span class="n">T</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">Hash</span><span class="p">(</span><span class="n">Block</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">Nonce</span><span class="p">)</span>
</pre></div>
</div>
<p>Nonce:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Hash</span><span class="p">(</span><span class="n">Block</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">Nonce</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">~</span> <span class="mi">0000001</span><span class="n">xxxxxx</span>
                           <span class="o">^^^^^^</span> <span class="n">first</span> <span class="n">x</span> <span class="n">bits</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">hash</span>
</pre></div>
</div>
<p><strong>電子署名をどんどん追加するタイプの追記型データ構造</strong> があればブロックチェーンなのでは？？→昔からあった</p>
<p>電子署名の問題点は、署名そのものが正しいかどうかが自明でない:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gpg --key-gen
...
$ gpg -u kuenishi@gmail.com --clearsign hello.py
$ gpg -d hello.py.asc
print("Hello Python!")
gpg: Signature made Sun May 22 11:53:10 2016 JST using RSA key ID 1EB41214
gpg: Good signature from "Kota UENISHI (nope) &lt;kuenishi@gmail.com&gt;"
$ echo $?
0
$ gpg -d hello.py.asc.cracked
print("Hello Ruby!")
gpg: Signature made Sun May 22 11:53:10 2016 JST using RSA key ID 1EB41214
gpg: BAD signature from "Kota UENISHI (nope) &lt;kuenishi@gmail.com&gt;"
$ echo $?
1
</pre></div>
</div>
<p>改竄してから署名してしまえばよい:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gpg -d hello.py.cracked.asc
print("Hello Ruby!")
gpg: Signature made Sun May 22 11:57:01 2016 JST using RSA key ID 1EB41214
gpg: Good signature from "Kota UENISHI (nope) &lt;kuenishi@gmail.com&gt;"
$ echo $?
0
</pre></div>
</div>
<section id="bitcoin">
<h2 id="bitcoin">BitCoinにおける合意（といわれているやつ）<a class="headerlink" href="#bitcoin" title="Permalink to this headline">¶</a></h2>
<p>TL;DR 分散システムでいうところの合意ではない</p>
<p><code class="docutils literal notranslate"><span class="pre">Block(n)</span></code> が合意されるか</p>
<ul class="simple">
<li><p>Termination (Liveness) … あとからいつでも覆される</p></li>
<li><p>Validity … 全てのプロセスがvを提案したら全員がvに決定する</p></li>
<li><p>Integrity … 全てのプロセスは１つだけブロックを選ぶ</p></li>
<li><p>Agreement … 全てのプロセスは同じvを選ぶ(????)</p></li>
</ul>
<p>反例 … あるチェーンAが伸びてから、あとからより長いBを渡されたケース:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">A</span>

          <span class="n">b</span>
<span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">+</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">A</span>
          <span class="o">|</span>
          <span class="o">+</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">B</span>
</pre></div>
</div>
<p>TODO: O(N) じゃない、Nonceを求める計算量？</p>
<p>あとから長いBを生成するためのクラシックな理論でいうと、あるNonceを計算
する計算量を O(N) とすると、ブランチした点 b から A までの計算にかかっ
たコストはおよそ <code class="docutils literal notranslate"><span class="pre">O(N</span> <span class="pre">*</span> <span class="pre">(A-b))</span></code> で、 B の計算にかかるコストは
<code class="docutils literal notranslate"><span class="pre">O(N</span> <span class="pre">*</span> <span class="pre">(B-b))</span></code> なので、履歴の改竄にかかるコストは、改竄対象のチェー
ンを作ったコストの <code class="docutils literal notranslate"><span class="pre">O(N</span> <span class="pre">*</span> <span class="pre">(B-b)/(A-b))</span></code> 倍程度になる。</p>
<p>その程度のコストを支払える計算機があれば合意（？）された値を変更できる。</p>
</section>
<section id="altcoins">
<h2 id="altcoins">AltCoins<a class="headerlink" href="#altcoins" title="Permalink to this headline">¶</a></h2>
<p>バリエーションは沢山ある、暗号化や署名のアルゴリズム、通貨としての利用
や交換形態、通貨じゃないやつ、Public or Private, 運営や開発の主体、分
岐したチェーンの破棄方法、実装やパラメータなど様々な分類軸がある</p>
<p>ここでは分岐したチェーンの破棄方法を主な観点にする:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PoW</span> <span class="o">=&gt;</span> <span class="n">PoS</span> <span class="o">=&gt;</span> <span class="n">DPoS</span> <span class="o">=&gt;</span> <span class="n">QDPoS</span>
        <span class="o">+=&gt;</span> <span class="n">Stellar</span>
</pre></div>
</div>
<p>メジャーな攻撃方法</p>
<ul class="simple">
<li><p>51% attack - 計算能力の51% をとって常にRewardを独占</p></li>
<li><p>Sybil attack - 悪意のあるノードを大量に追加して善意のあるクライアントをネットワークからきりはなす</p></li>
<li><p>Network partition attack</p></li>
</ul>
</section>
<section id="proof-of-work">
<h2 id="proof-of-work">Proof of Work<a class="headerlink" href="#proof-of-work" title="Permalink to this headline">¶</a></h2>
<p>BitCoinと同様、Nonceの計算を競う早い者勝ちのプロトコル。より早くNonce
を見つけるためには、より多くのコンピュータがあった方がよい。</p>
<ul class="simple">
<li><p>Pros: フェア</p></li>
<li><p>Cons: エコじゃない, network attack で分岐する, 計算力の集中化が進んでいる, higher latency</p></li>
</ul>
</section>
<section id="proof-of-stake">
<h2 id="proof-of-stake">Proof of Stake<a class="headerlink" href="#proof-of-stake" title="Permalink to this headline">¶</a></h2>
<p>投票によりより多くのコインを集めたBlockが正しいものになる。</p>
<ul class="simple">
<li><p>Pros: PoWよりはエコ, attacker は過半数に近いコインを集める必要がある, lower latency</p></li>
<li><p>Cons: Richer get richer, “The Monopoly problem”</p></li>
</ul>
<p>Monopoly =&gt; Double spending, denying service</p>
<ul class="simple">
<li><p>Nothing at Stake: 全てのForkに投票する（PoWと違って投票はチープだか
ら）</p></li>
<li><p>Stake Grinding: まずいくらかStakeを確保して、過去の歴史を遡って自分
が過半数をとれるブロックを探す。見つかったら、そこから歴史を今まで改
竄する。</p></li>
</ul>
<p>Stake Grinding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">"Both benevolent and malevolent monopoly are potentially profitable,</span>
<span class="n">so</span> <span class="n">there</span> <span class="n">are</span> <span class="n">reasons</span> <span class="n">to</span> <span class="n">suspect</span> <span class="n">that</span> <span class="n">an</span> <span class="n">entrepreneurial</span> <span class="n">miner</span> <span class="n">might</span>
<span class="n">attempt</span> <span class="n">to</span> <span class="n">become</span> <span class="n">a</span> <span class="n">monopolist</span> <span class="n">at</span> <span class="n">some</span> <span class="n">point</span><span class="o">.</span> <span class="n">Due</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Tragedy</span> <span class="n">of</span>
<span class="n">the</span> <span class="n">Commons</span> <span class="n">effect</span><span class="p">,</span> <span class="n">attempts</span> <span class="n">at</span> <span class="n">monopoly</span> <span class="n">become</span> <span class="n">increasingly</span> <span class="n">likely</span>
<span class="n">over</span> <span class="n">time</span><span class="o">.</span><span class="s2">"</span>
</pre></div>
</div>
<p>現実的には需要と供給の関係によって、独占するには $20M必要と見積もられ
ている（PoWなら$10M)。独占すると通貨価値がなくなるので独占したがる奴は
いない、らしい etc, etc</p>
<p>バリエーションがいくつかある</p>
<ul class="simple">
<li><p>Randomized block selection (Nxt, BlackCoin)</p></li>
<li><p>Coin age based selection (PPCoin)</p></li>
<li><p>Velocity based selection (PoSV, Reddcoin)</p></li>
<li><p>Voting based selection</p></li>
</ul>
</section>
<section id="id1">
<h2 id="id1">他<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[Proof of Activity Proposal](<a class="reference external" href="https://bitcointalk.org/index.php?topic=102355.0">https://bitcointalk.org/index.php?topic=102355.0</a>)</p></li>
<li><p>[Proof of burn](<a class="reference external" href="https://en.bitcoin.it/wiki/Proof_of_burn">https://en.bitcoin.it/wiki/Proof_of_burn</a>) - Coinを “burn” する=利用不可能なWalletに送金するとProofになる</p></li>
<li><p>[Proof of Stake Velocity](<a class="reference external" href="https://www.reddit.com/r/reddCoin/comments/249dnl/major_announcement_reddcoin_to_implement_new/">https://www.reddit.com/r/reddCoin/comments/249dnl/major_announcement_reddcoin_to_implement_new/</a>), [paper](<a class="reference external" href="https://www.reddcoin.com/papers/PoSV.pdf">https://www.reddcoin.com/papers/PoSV.pdf</a>)</p></li>
<li><p>[Queued Delegated Proof-of-Stake](<a class="reference external" href="https://wiki.qointum.com/design/dev/#queued-delegated-proof-of-stake">https://wiki.qointum.com/design/dev/#queued-delegated-proof-of-stake</a>)</p></li>
<li><p>[Tendermint - The completely decntralized consensus engine](<a class="reference external" href="https://news.ycombinator.com/item?id=9138923">https://news.ycombinator.com/item?id=9138923</a>) - PoS</p></li>
</ul>
</section>
<section id="ghost-protocol">
<h2 id="ghost-protocol">GHOST Protocol<a class="headerlink" href="#ghost-protocol" title="Permalink to this headline">¶</a></h2>
<p>[Accelerating Bitcoin’s Transaction Processing - Fast Money Grows on Trees, Not Chains](<a class="reference external" href="https://eprint.iacr.org/2013/881.pdf">https://eprint.iacr.org/2013/881.pdf</a>)</p>
<p>1. Bitcoinのやつだとブランチしやすい→アタックを受けた時などにスループットが頭打ちになる（らしい
1. Branch selection 戦略を変える
1. <strong>“Greedy Heaviest-Observed Sub-Tree (GHOST)”</strong> protocol を提案</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">maintains</span> <span class="n">the</span> <span class="n">threshold</span> <span class="n">of</span> <span class="nb">hash</span> <span class="n">power</span> <span class="n">needed</span> <span class="n">to</span> <span class="n">successfully</span> <span class="n">pull</span> <span class="n">off</span>
<span class="n">a</span> <span class="mi">50</span><span class="o">%</span> <span class="n">attack</span> <span class="n">at</span> <span class="mi">50</span><span class="o">%</span><span class="p">,</span> <span class="n">even</span> <span class="k">if</span> <span class="n">the</span> <span class="n">network</span> <span class="n">suffers</span> <span class="kn">from</span> <span class="nn">extreme</span> <span class="n">delays</span>
<span class="ow">and</span> <span class="n">the</span> <span class="n">attacker</span> <span class="n">does</span> <span class="ow">not</span><span class="o">.</span>
</pre></div>
</div>
<p><strong>B の子ブロックのうち、サブツリーに一番沢山ブロックを持っている子ブロックを正当なツリーとして認める</strong> 戦略</p>
<p>他にも、論文中では</p>
<ul class="simple">
<li><p>Bitcoin/GHOSTのスループットの理論値を計算 (Bitcoinでは &lt;1.0tps だったのに特定条件下で200を超えるように</p></li>
<li><p>レイテンシの理論値の評価 etc, etc, …</p></li>
</ul>
<p>ところが… =&gt; Casper</p>
</section>
<section id="major-altcoins">
<h2 id="major-altcoins">Major AltCoins<a class="headerlink" href="#major-altcoins" title="Permalink to this headline">¶</a></h2>
<section id="ripple-proof-of-work-trust">
<h3 id="ripple-proof-of-work-trust">Ripple: proof of work, TRUST?<a class="headerlink" href="#ripple-proof-of-work-trust" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Heuristics, to assume some limitations on network latency</p></li>
<li><p>The Ripple protocol can achieve consensus in the face of (n-1)/5 failures +several other desirable features</p></li>
<li><ol class="upperalpha simple" start="17">
<li><p>is this for a fixed node set? &lt;= given there’s “n”</p></li>
</ol>
</li>
<li><p>[Ripple Consensus Algorithm](<a class="reference external" href="https://ripple.com/files/ripple_consensus_whitepaper.pdf">https://ripple.com/files/ripple_consensus_whitepaper.pdf</a>)</p></li>
</ul>
<p>UNL (Unique Node List) を各クライアントでもって、それの 4/5 の合意がとれればOK（えー</p>
<p>### Etherium: PoW (rather a Smart Contracts platform)</p>
<p>Public な open ledger で、 Smart Contracts といわれる、チューリング完
全なプログラミング言語 (Solidity) とその処理系（EVM）がノード上に実装されている。</p>
<ul class="simple">
<li><p>“Uncle” 主流にならなかったブランチだけどRewardがもらえる→より多くの
Minerが現れるのでブロックが進みやすい（レイテンシを短くできる）</p></li>
<li><p>[More uncle statistics](<a class="reference external" href="https://blog.ethereum.org/2015/09/25/more-uncle-statistics/">https://blog.ethereum.org/2015/09/25/more-uncle-statistics/</a>)</p></li>
<li><p>[Heavily centralized](<a class="reference external" href="https://etherchain.org/statistics/miners">https://etherchain.org/statistics/miners</a>)</p></li>
<li><p>[Uncle Mining flaw](<a class="reference external" href="https://bitslog.wordpress.com/2016/04/28/uncle-mining-an-ethereum-consensus-protocol-flaw/">https://bitslog.wordpress.com/2016/04/28/uncle-mining-an-ethereum-consensus-protocol-flaw/</a>):
特定条件下では Uncle だけを掘った方が儲かるケースがあり、全員がそれ
をやると収束しないという指摘</p></li>
</ul>
<p>脆弱性もあり、Uncle Miningなどの設計が難しいので将来的に PoS に移行する =&gt; Casper</p>
<ul class="simple">
<li><p>[Introducing Casper “the Friendly Ghost”](<a class="reference external" href="https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/">https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/</a>): Security debositをベースにしたPoS</p>
<ul>
<li><p>おかしなことしたvalidatorはそのDepositoを失う</p></li>
<li><p><em>their authentication chain ends in the list of currently-bonded validators.</em></p></li>
</ul>
</li>
<li><p>[ETHEREUM: A SECURE DECENTRALISED GENERALISED TRANSACTION LEDGER](<a class="reference external" href="http://gavwood.com/paper.pdf">http://gavwood.com/paper.pdf</a>)</p></li>
<li><p>[Ethereum入門](<a class="reference external" href="http://book.ethereum-jp.net/">http://book.ethereum-jp.net/</a>)</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Casper</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">security-deposit</span> <span class="pre">based</span> <span class="pre">economic</span> <span class="pre">consensus</span> <span class="pre">protocol.</span></code></p>
<ul class="simple">
<li><p>Security-deposit based security and authentication ‘bonded validators’</p></li>
<li><p>Gambling on Consensus: <em>‘if on the other hand they do not quickly agree, they re-earn less of their deposit’</em></p></li>
<li><p>By-height Consensus: <em>‘Casper forfeits their security deposit.’</em></p></li>
<li><p>Transaction Finality: ???</p></li>
<li><p>Recovery from netsplits: ???</p></li>
<li><p>[ETHEREUM: A SECURE DECENTRALISED GENERALISED TRANSACTION LEDGER](<a class="reference external" href="http://gavwood.com/paper.pdf">http://gavwood.com/paper.pdf</a>)</p></li>
<li><p>[Ethereum入門](<a class="reference external" href="http://book.ethereum-jp.net/">http://book.ethereum-jp.net/</a>)</p></li>
</ul>
</section>
</section>
<section id="stellar-stellar-consensus-protocol-trust">
<h2 id="stellar-stellar-consensus-protocol-trust">Stellar: Stellar consensus protocol (TRUST)<a class="headerlink" href="#stellar-stellar-consensus-protocol-trust" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Federated Byzantine Agreementというプロトコルを開発し、 PoW, PoS の問題を全て解決したと主張</p></li>
<li><p>Byzantine General Problem を限定的な状況について効率的に解いたとのこと</p></li>
<li><p>Quorum set とかいう不思議な概念で、このset毎に合意をとる（模様）→なぜか全体で上手くいく</p></li>
</ul>
<ul class="simple">
<li><p>ステラコンセンサスプロトコル
[EN](<a class="reference external" href="https://www.stellar.org/blog/stellar-consensus-protocol-proof-code/">https://www.stellar.org/blog/stellar-consensus-protocol-proof-code/</a>)
[JA](<a class="reference external" href="http://stellar1.blog.fc2.com/blog-entry-48.html">http://stellar1.blog.fc2.com/blog-entry-48.html</a>)</p></li>
</ul>
</section>
<section id="bitshares-dpos-delegated-pos">
<h2 id="bitshares-dpos-delegated-pos">BitShares: DPOS (Delegated PoS)<a class="headerlink" href="#bitshares-dpos-delegated-pos" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[Delegated Proof-of-Stake](<a class="reference external" href="https://bitshares.org/technology/delegated-proof-of-stake-consensus/">https://bitshares.org/technology/delegated-proof-of-stake-consensus/</a>):</p>
<ul>
<li><p>Block Production by Elected Witnesses, which produce blocks and get</p></li>
<li><p>paid; netsplitもするよ</p></li>
<li><p>Each account is allowed one vote per share per witness, a process
known as approval voting. The top N witnesses by total approval
are selected. The number (N) of witnesses is defined such that at
least 50% of voting stakeholders believe there is sufficient
decentralization.</p></li>
</ul>
</li>
</ul>
<p>// * [Announcing BitShares 2.0](<a class="reference external" href="https://bitshares.org/blog/2015/06/08/announcing-bitshares-2.0/">https://bitshares.org/blog/2015/06/08/announcing-bitshares-2.0/</a>)
// * [The History of Graphene](<a class="reference external" href="https://bitshares.org/blog/2015/06/15/the-history-of-graphene/">https://bitshares.org/blog/2015/06/15/the-history-of-graphene/</a>)</p>
<p>詳しいものを発見できてない</p>
</section>
<section id="qointum-qdpos">
<h2 id="qointum-qdpos">Qointum; QDPoS<a class="headerlink" href="#qointum-qdpos" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[Queued Delegated Proof-of-Stake](<a class="reference external" href="https://wiki.qointum.com/design/dev/#queued-delegated-proof-of-stake">https://wiki.qointum.com/design/dev/#queued-delegated-proof-of-stake</a>)</p></li>
</ul>
<p>QueueにDelegate (これからサインするブロック候補）を積んで、それを
<em>blockchain entropy</em> を使ってランダムに振り分けていく→より広範囲に分散
できてスケールできる</p>
<p>Consensusは [Maximally Vetted Delegate Chain](<a class="reference external" href="https://wiki.qointum.com/design/dev/#maximally-vetted-delegate-chain">https://wiki.qointum.com/design/dev/#maximally-vetted-delegate-chain</a>) の長さで決まる</p>
<ul class="simple">
<li><p>Nxt: Proof of Stake, w/ leased forging</p></li>
<li><p>NEM: Ripple Consensus</p></li>
<li><p>[BlackCoin’s Proof-of-Stake Protocol v2](<a class="reference external" href="http://blackcoin.co/blackcoin-pos-protocol-v2-whitepaper.pdf">http://blackcoin.co/blackcoin-pos-protocol-v2-whitepaper.pdf</a>)</p></li>
</ul>
</section>
<section id="references">
<h2 id="references">References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[Proof of Stake versus Proof of Work white paper](<a class="reference external" href="http://bitfury.com/content/5-white-papers-research/pos-vs-pow-1.0.2.pdf">http://bitfury.com/content/5-white-papers-research/pos-vs-pow-1.0.2.pdf</a>)</p></li>
<li><p>[Infographic: The Blockchain Ecosystem in 2016](<a class="reference external" href="https://ibsintelligence.com/ibs-journal/ibs-news/infographic-the-blockchain-ecosystem-in-2016/">https://ibsintelligence.com/ibs-journal/ibs-news/infographic-the-blockchain-ecosystem-in-2016/</a>)</p></li>
<li><p>[Non-PoW consensus protocols (Ethereum, Bitshares, Stellar/Ripple, etc)](<a class="reference external" href="https://bitcointalk.org/index.php?topic=1032927.0">https://bitcointalk.org/index.php?topic=1032927.0</a>)</p></li>
<li><p>[JA translation of Ethereum White Paper](<a class="reference external" href="https://github.com/ethereum/wiki/wiki/%5BJapanese%5D-White-Paper">https://github.com/ethereum/wiki/wiki/%5BJapanese%5D-White-Paper</a>)</p></li>
<li><p>[Larry Ren, Proof of Stake Velocity: Building the Social Currency of the Digital Age](<a class="reference external" href="https://www.reddcoin.com/papers/PoSV.pdf">https://www.reddcoin.com/papers/PoSV.pdf</a>)</p></li>
<li><p>[Introducing Casper “the friendly GHOST”](<a class="reference external" href="https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/">https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/</a>)</p></li>
<li><p>[Casper the Friendly Ghost](<a class="reference external" href="https://docs.google.com/presentation/d/1bV_vXJBko-DmhAgnOFYg8ZNbAvCZCZrlf0KBFPqwVIw/edit">https://docs.google.com/presentation/d/1bV_vXJBko-DmhAgnOFYg8ZNbAvCZCZrlf0KBFPqwVIw/edit</a>)</p></li>
<li><p>[GnuPGのコマンド](<a class="reference external" href="http://www.nina.jp/server/windows/gpg/commands.html">http://www.nina.jp/server/windows/gpg/commands.html</a>)</p></li>
<li><p>[ビットコイン2.0](<a class="reference external" href="http://jpbitcoin.com/bitcoin2s">http://jpbitcoin.com/bitcoin2s</a>)</p></li>
<li><p>[電子署名の仕組み](<a class="reference external" href="http://esac.jipdec.or.jp/intro/shikumi.html">http://esac.jipdec.or.jp/intro/shikumi.html</a>)</p></li>
<li><p>[電子署名の基礎知識](<a class="reference external" href="http://www.c-a-c.jp/about/knowledge.html">http://www.c-a-c.jp/about/knowledge.html</a>)</p></li>
<li><p>[OpenSSLコマンドによる公開鍵暗号、電子署名の方法](<a class="reference external" href="http://qiita.com/kunichiko/items/3c0b1a2915e9dacbd4c1">http://qiita.com/kunichiko/items/3c0b1a2915e9dacbd4c1</a>)</p></li>
<li><p>[電子署名のファイルフォーマット](<a class="reference external" href="http://qiita.com/kunichiko/items/2e0a2bd35c8e9492ceb5">http://qiita.com/kunichiko/items/2e0a2bd35c8e9492ceb5</a>)</p></li>
<li><p>[図説RSA署名の巻](<a class="reference external" href="http://blog.livedoor.jp/k_urushima/archives/979220.html">http://blog.livedoor.jp/k_urushima/archives/979220.html</a>)</p></li>
</ul>
<p># Omake</p>
<ul class="simple">
<li><p>[ビットコイン関連詐欺を４つに分類する](<a class="reference external" href="http://coinandpeace.hatenablog.com/entry/4_types_of__bitcoin_scam">http://coinandpeace.hatenablog.com/entry/4_types_of__bitcoin_scam</a>)</p></li>
</ul>
<p>手作りの温かみのあるブロックチェーン (ブランチ選択なし）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gpg -u kuenishi@gmail.com --clearsign hello.py.2

You need a passphrase to unlock the secret key for
user: "Kota UENISHI (nope) &lt;kuenishi@gmail.com&gt;"
4096-bit RSA key, ID 1EB41214, created 2016-05-22

$ gpg -d hello.py.2.asc
print("Hello Python, 2")
print("MD5 (hello.py.asc) = a1b90918efe7ce659b919a76b29e4eca")
gpg: Signature made Sun May 22 14:22:16 2016 JST using RSA key ID 1EB41214
gpg: Good signature from "Kota UENISHI (nope) &lt;kuenishi@gmail.com&gt;"
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">hello.py</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">hello.py.asc</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">hello.py.2</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">hello.py.2.asc</span></code> =&gt; … =&gt; <code class="docutils literal notranslate"><span class="pre">hello.py.$n</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">hello.py.$n.asc</span></code> =&gt; …</p>
</section>
<section id="misc">
<h2 id="misc">Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[Landscape](<a class="reference external" href="http://startupmanagement.org/wp-content/uploads/2015/12/Blockchain-in-Financial-Services-Landscape.jpg">http://startupmanagement.org/wp-content/uploads/2015/12/Blockchain-in-Financial-Services-Landscape.jpg</a>)</p></li>
<li><p>[Distributed Ledger Technology: beyond block chain](<a class="reference external" href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/492972/gs-16-1-distributed-ledger-technology.pdf">https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/492972/gs-16-1-distributed-ledger-technology.pdf</a>)</p></li>
<li><p>[Blockchain Ecosystem Database](<a class="reference external" href="https://www.blockstars.io/ecosystem/">https://www.blockstars.io/ecosystem/</a>)</p></li>
<li><p>[Blockchain Consensus Protocols](<a class="reference external" href="http://www.slideshare.net/lablogga/blockchain-consensus-protocols">http://www.slideshare.net/lablogga/blockchain-consensus-protocols</a>)</p></li>
</ul>
<p>[BitShares / ビットシェアズ](<a class="reference external" href="http://jpbitcoin.com/bitcoin2/bitshares">http://jpbitcoin.com/bitcoin2/bitshares</a>)</p>
<p>&gt; Bitsharesの基軸通貨はBTSと呼ばれます。このBTSの発行上限は約37億BTSであり、スタート時にはそのうち約25億が配布されました。残りの約12億は、取引の承認者に支払われる報酬金などの用途のため、準備金プール(Reserve Pool)と呼ばれる、誰もコントロールできない資産としてブロックチェーン上に保管されています。Bitsharesにおける取引手数料の20%はこの準備金プールへと送られます。
Bitsharesにおける取引承認のシステムは、DPOS(Delegated Proof of Stake、代表者によるProof of Stake)と呼ばれています。DPOSにおける取引の承認者はwitness(立会人)と呼ばれています。witnessには誰でも立候補することができ、BTS保有者の投票により選ばれ、また、投票によりwitnessの座から下ろすことも可能です。この投票権は、全BTS保有者に保有量に応じて割り当てられており、他人に投票権を渡すこともできます。
選ばれたwitnessは、一定時間ごとにシャッフルされて承認の順番が割り当てられ、順に取引・ブロックを承認していきます。承認をしなかったwitnessは順番が飛ばされ次のwitnessが承認を行います。承認を行うごとに、witnessはBTS保有者の投票により定められた一定の報酬(現在は1ブロック1.5BTS)がもらえます。この報酬は先の準備金プールから支払われます。
かつては、101人がwitnessに選出されていましたが、さらに少ない人数でもセキュリティ的には十分であることや、多すぎるとwitnessに支払う総報酬が多くなりコストがかさむ問題や投票者がwitness一人一人を評価することが困難になる問題などがあるため、現在では20人前後となっています。</p>
<ul class="simple">
<li><p>[Graphene](<a class="reference external" href="https://bitshares.org/doxygen/index.html">https://bitshares.org/doxygen/index.html</a>)</p></li>
</ul>
</section>
<section id="others">
<h2 id="others">Others<a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>[20 MINS INTRO TO CONSENSUS](<a class="reference external" href="https://devcon.ethereum.org/slides/consensus_williams.pdf">https://devcon.ethereum.org/slides/consensus_williams.pdf</a>)</p></li>
<li><p>A Prunable Blockchain Consensus Protocol Based on Non-Interactive
Proofs of Past States Retrievability, Alexander Chepurnoy, Mario
Larangeira, Alexander Ojiganov
[Arxiv](<a class="reference external" href="http://arxiv.org/abs/1603.07926">http://arxiv.org/abs/1603.07926</a>)</p></li>
<li><p>SCP: A Computationally-Scalable Byzantine Consensus Protocol For
Blockchains [PDF](<a class="reference external" href="http://eprint.iacr.org/2015/1168.pdf">http://eprint.iacr.org/2015/1168.pdf</a>)</p></li>
<li><p>The Stellar Consensus Protocol: A Federated Model for Internet-level
Consensus, DAVID MAZIERES , Stellar Development Foundation
[PDF](<a class="reference external" href="https://www.stellar.org/papers/stellar-consensus-protocol.pdf">https://www.stellar.org/papers/stellar-consensus-protocol.pdf</a>)</p></li>
<li><p>Byzantine Fault Tolerance Algorithmes, Practical Byzantine Fault
Tolerance, 1999 Castro, Liskov</p></li>
<li><p>Random Oracles in Constantinople: Practical Asynchronous Byzantine
Agreement using Cryptography, 2000 Cachin, Kursawe, Shoup</p></li>
</ul>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="ergodox-ez.html" title="ErgoDox EZ"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> ErgoDox EZ </span>
              </div>
            </a>
          
          
            <a href="cost-of-send-after3.html" title="the cost of erlang:send_after/3"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> the cost of erlang:send_after/3 </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2012-2022, UENISHI Kota.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>